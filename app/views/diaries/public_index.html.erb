<div class="min-h-screen p-4">
  <div class="container mx-auto">
    <div class="neuro-card p-4 md:p-6 mb-6">
      <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3">
        <h1 class="text-xl md:text-2xl lg:text-3xl font-bold text-base-content">公開日記一覧 🌱</h1>
        <div class="flex items-center gap-3">
        </div>
      </div>
    </div>

    <div class="grid gap-4 md:gap-6 sm:grid-cols-2 lg:grid-cols-3">
      <% @diaries.each do |diary| %>
        <div class="neuro-card p-4 md:p-6">
          <div class="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2 mb-3">
            <span class="text-base md:text-lg font-semibold text-primary"><%= diary.date.strftime("%Y/%m/%d") %></span>
            <span class="text-xs md:text-sm text-base-content/60">by <%= diary.user.username %></span>
          </div>
          
          <% if diary.til_text.present? %>
            <h3 class="text-base md:text-lg font-bold text-primary mb-2">Today I Learned</h3>
            <p class="text-sm md:text-base leading-relaxed text-base-content mb-3 md:mb-4"><%= truncate(diary.til_text, length: 150) %></p>
          <% elsif diary.notes.present? %>
            <h3 class="text-base md:text-lg font-bold text-secondary mb-2">今日のメモ</h3>
            <div class="text-sm md:text-base leading-relaxed text-base-content mb-3 md:mb-4 whitespace-pre-line"><%= truncate(diary.notes, length: 150) %></div>
          <% end %>

          <div class="flex gap-1 md:gap-2 mb-3 md:mb-4 flex-wrap">
            <% diary.diary_answers.each do |diary_answer| %>
              <div class="neuro-badge py-1 px-2 text-xs font-medium flex items-center gap-1">
                <span class="text-sm"><%= diary_answer.answer.emoji %></span>
                <span class="whitespace-nowrap"><%= diary_answer.question.label %></span>
              </div>
            <% end %>
          </div>

          <div class="flex justify-end">
            <%= link_to diary_path(diary), class: "neuro-button py-2 px-3 md:px-4 text-xs md:text-sm font-medium" do %>
              詳細を見る
            <% end %>
          </div>
        </div>
      <% end %>
    </div>

    <% if @diaries.empty? %>
      <div class="neuro-card p-6 md:p-8 text-center">
        <h2 class="text-lg md:text-xl font-bold text-base-content mb-2">公開されている日記がありません</h2>
        <p class="text-sm md:text-base text-base-content/60">まだ公開されている日記がありません。</p>
      </div>
    <% end %>
  </div>
</div>
